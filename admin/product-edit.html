<link rel="stylesheet" href="css/global.css">
<div class='col-md-12'>
	<h3>จัดการสินค้า</h3>
	<hr/>
	<form id='product_form' action='' method='post' enctype="multipart/form-data">
			<div class="form-horizontal">
				<div class="form-group">
					<label for="cate_id" class="col-sm-3">หมวดหมู่</label>
					<div class="col-sm-5">
						<select class='form-control' id="cate_id" name='cate_id' >
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="preview_thumb" class='col-md-3'>&nbsp;</label>
					<div class='col-md-5'>
						<img class="img-responsive" id="preview_thumb"  />
						<!-- onerror=this.src='../../images/common/unavaliable.jpg'  -->
					</div>
				</div>
				<div class="form-group">
					<label for="file_thumbnail" class='col-md-3'>ภาพตัวอย่าง / thumbnail</label>
					<div class='col-md-7'>
						<input type="file" class="form-control" id="file_thumbnail" name="file_thumbnail"  />
					</div>
				</div>
				<div class="form-group">
					<label for="preview_plan" class='col-md-3'>&nbsp;</label>
					<div class='col-md-5'>
						<img class="img-responsive" id="preview_plan" />
						<!-- onerror=this.src='../../images/common/unavaliable.jpg'  -->
					</div>
				</div>
				<div class="form-group">
					<label for="file_plan" class='col-md-3'>รูปแปลน / plan</label>
					<div class='col-md-7'>
						<input type="file" class="form-control" id="file_plan" name="file_plan"  />
					</div>
				</div>
				<div class="form-group">
					<label for="preview_dwg" class='col-md-3'>DWG</label>
					<div class='col-md-5'>
						<a id="link_dwg" target="_blank"  href='' class='btn btn-warning' >CLICK VIEW DWG</a>
					</div>
				</div>
				<div class="form-group">
					<label for="file_dwg" class='col-md-3'>DWG file</label>
					<div class='col-md-7'>
						<input type="file" class="form-control" id="file_dwg" name="file_dwg"  />
					</div>
				</div>
				<div class="form-group">
					<label for="preview_dwg" class='col-md-3'>View PDF (TH)</label>
					<div class='col-md-5'>
						<a id="link_pdf_th" target="_blank" href='' class='btn btn-warning' >CLICK VIEW PDF (TH)</a>
					</div>
				</div>
				<div class="form-group">
					<label for="pdf_file_th" class='col-md-3'>PDF file (TH)</label>
					<div class='col-md-7'>
						<input type="file" class="form-control" id="pdf_file_th" name="pdf_file_th"  />
					</div>
				</div>
				<div class="form-group">
					<label for="preview_dwg" class='col-md-3'>View PDF (EN)</label>
					<div class='col-md-5'>
						<a id="link_pdf_en" target="_blank" href='' class='btn btn-warning' >CLICK VIEW PDF (EN)</a>
					</div>
				</div>
				<div class="form-group">
					<label for="pdf_file_en" class='col-md-3'>PDF file (EN)</label>
					<div class='col-md-7'>
						<input type="file" class="form-control" id="pdf_file_en" name="pdf_file_en"  />
					</div>
				</div>
				<div class="form-group">
					<label for="active" class='col-md-3'>เปิดใช้งาน / Enable</label>
					<div class='col-md-5'>
						<input type="checkbox" id="active" name="active"  />
					</div>
				</div>
				<ul id='menutab' class="nav nav-tabs nav-default">
					<li role="presentation" class='active'>
						<a class='menutab' href="#th" data-toggle="tab">TH</a>
					</li>
					<li role="presentation">
						<a class='menutab' href="#en" data-toggle="tab">EN</a>
					</li>
					<li role="presentation">
						<a class='menutab' href="#symbol" data-toggle="tab">Symbol</a>
					</li>
					<li role="presentation">
						<a class='menutab' href="#color" data-toggle="tab">Color</a>
					</li>
					<li role="presentation">
						<a class='menutab' href="#photo" data-toggle="tab">Photo</a>
					</li>
				</ul>
				<div class='tab-content' style='margin-top:10px;'>
					<div id='th' class="tab-pane fade in active">
						<div class='col-md-12'>
							<div class="form-group">
								<label for="code_th" class='col-md-3'>รหัสสินค้า</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="code_th" name='code_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="name_th" class='col-md-3'>ชื่อรุ่น</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="name_th" name='name_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="type_th" class='col-md-3'>ชนิดสุขภัณฑ์</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="type_th" name='type_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="size_th" class='col-md-3'>ขนาด</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="size_th" name='size_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="shape_th" class='col-md-3'>ลักษณะของโถ</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="shape_th" name='shape_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="seat_th" class='col-md-3'>ฝารองนั่ง</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="seat_th" name='seat_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="outlet_th" class='col-md-3'>ท่อน้ำทิ้ง</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="outlet_th" name='outlet_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="rough_th" class='col-md-3'>ระยะการติดตั้ง</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="rough_th" name='rough_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="systems_th" class='col-md-3'>ระบบการชำระล้าง</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="systems_th" name='systems_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="comsumption_th" class='col-md-3'>ปริมาณน้ำ</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="comsumption_th" name='comsumption_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="faucet_th" class='col-md-3'>ขนาดรูก๊อก</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="faucet_th" name='faucet_th' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="overflow_th" class='col-md-3'>รูน้ำล้น</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="overflow_th" name='overflow_th' placeholder="" value='' />
								</div>
							</div>
						</div>
					</div>
					<div id='en' class="tab-pane fade">
						<div class='col-md-12'>
							<div class="form-group">
								<label for="code_en" class='col-md-3'>code</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="code_en" name='code_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="name_en" class='col-md-3'>name</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="name_en" name='name_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="type_en" class='col-md-3'>type</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="type_en" name='type_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="size_en" class='col-md-3'>size</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="size_en" name='size_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="shape_en" class='col-md-3'>shape</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="shape_en" name='shape_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="seat_en" class='col-md-3'>seat</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="seat_en" name='seat_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="outlet_en" class='col-md-3'>outlet</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="outlet_en" name='outlet_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="rough_en" class='col-md-3'>rough</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="rough_en" name='rough_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="systems_en" class='col-md-3'>systems</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="systems_en" name='systems_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="comsumption_en" class='col-md-3'>comsumption</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="comsumption_en" name='comsumption_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="faucet_en" class='col-md-3'>faucet</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="faucet_en" name='faucet_en' placeholder="" value='' />
								</div>
							</div>
							<div class="form-group">
								<label for="overflow_en" class='col-md-3'>overflow</label>
								<div class='col-md-6'>
									<input type="text" class="form-control" id="overflow_en" name='overflow_en' placeholder="" value='' />
								</div>
							</div>
						</div>
					</div>
					<div id='symbol' class="tab-pane fade">
						<div class='col-md-12'>
							<div class="form-group">
									<div class="input-group col-md-8">
									<input type='text' id='temp_symbol' class='form-control' placeholder='click upload file' readonly />
									  <span class="input-group-btn">
										<button class="btn btn-default" id='btn_add_symbol' type="button">&nbsp;<span class="glyphicon glyphicon-plus"></span></button>
										<button id='btn_upload_symbol' class='btn btn-success'>upload</button>
									  </span>
									</div><!-- /input-group -->
								</div><!-- /form-group -->
							<div class="form-group">
								<ul class="list-group col-md-6" id='product_symbol' ></ul>
							</div><!-- /form-group -->
						</div>
					</div>
					<div id='color' class="tab-pane fade">
						<div class='col-md-12'>
							<div class="form-group">
								<div class="input-group col-md-6">
									<select class="form-control" id='color_list'>
										<option value='white'>white</option>
										<option value='black'>black</option>
									</select>
								  <span class="input-group-btn">
									<button class="btn btn-default" id='btn_add_color' type="button">&nbsp;<span class="glyphicon glyphicon-plus"></span></button>
								  </span>
								</div><!-- /input-group -->
							</div><!-- /form-group -->
							<div class="form-group">
								<ul class="list-group col-md-6" id='product_color' ></ul>
							</div><!-- /form-group -->
						</div>
					</div>
					<div id='photo' class="tab-pane fade">
						<div class='col-md-12'>
								<div class="form-group">
									<div class="input-group col-md-8">
									<input type='text' id='temp_photo' class='form-control' placeholder='click upload file' readonly />
									  <span class="input-group-btn">
										<button class="btn btn-default" id='btn_add_photo' type="button">&nbsp;<span class="glyphicon glyphicon-plus"></span></button>
										<button id='btn_upload' class='btn btn-success'>upload</button>
									  </span>
									</div><!-- /input-group -->
								</div>
								<!-- /form-group -->
							<div class="form-group">
								<!-- <ul class="list-group col-md-6" id='product_photo' ></ul> -->
									<div id='product_photo' ></div>
								</div><!-- /form-group -->
						</div>
					</div>
				</div>
			</div>
			<div class='row text-center'>
				<input  id='btn_save' type='submit' class='btn btn-success btn-sm' value='บันทึก' />&nbsp;<span class='btn btn-danger'  onclick=control.pagetab('product-manager.html')  >ยกเลิก</span>
			</div>
			<input type='hidden' id='id' name='id' />
	</form>
	
	<form id='photo_form' name='photo_form' method='post' enctype="multipart/form-data" >
		<div  style='display:none;' >
		<input type='file' id='file_photo' name='file_photo' class='form-control' />
		<input type='hidden' id='proid' name='proid' />
		<input type='submit' id='photo_submit' />
		</div>
	</form>
	<form id='symbol_form' name='symbol_form' method='post' enctype="multipart/form-data" >
		<div  style='display:none;' >
		<input type='file' id='file_symbol' name='file_symbol' class='form-control' />
		<input type='hidden' id='proid_symbol' name='proid_symbol' />
		<input type='submit' id='symbol_submit' />
		</div>
	</form>
	
</div>
<script src='js/product-manager.js' />
<script src='js/color-manager.js' />
<script src='../plugin/jquery/jquery.form.js' />
<script>

$(document).ready(function(){

	var id = utility.querystr("id",$('#parameter').val());
	product.loaditem(id);
	color.loadoptions();
	
	$('#btn_save').click(function(e){
		
		$('#product_form').submit(function(e){
			e.preventDefault();
			var args = new FormData(this);
			args.append('type', 'edit');
			product.edit(args);
		});
		
	});

	/****product symbol******/
	//show file name
	$('#btn_add_symbol').click(function(e){
		$('#file_symbol').trigger('click');
	});
	$('#file_symbol').change(function(e){
		var filename = $(this).val().split('\\').pop();
		$('#temp_symbol').val(filename);
	});
	//button trigger submit upload 
	$('#btn_upload_symbol').click(function(){
		$('#symbol_submit').trigger('click');
	});
	
	$("#symbol_form").submit(function(evt){
			console.log('symbol form sumbit');
			var args = new FormData(this);
			args.append('type', 'add_symbol');
			product.add_symbol(args); 
			$('#file_symbol').val('');//clear file symbol upload
	});
	
	//cancel sumbit 
	$("#symbol_form").on('submit',function(e){
		e.preventDefault(); 
	});
	/****product symbol******/
	/****product photo******/
	
	$('#btn_add_photo').click(function(e){
		$('#file_photo').trigger('click');
	});
	//show file name
	$('#file_photo').change(function(e){
		var filename = $(this).val().split('\\').pop();
		$('#temp_photo').val(filename);
	});
	
	
	$('#btn_upload').click(function(){
		$('#photo_submit').trigger('click');
	});
	
	$("#photo_form").submit(function(evt){
		console.log('photo form sumbit');
		var args = new FormData(this);
		args.append('type', 'add_photo');
		product.add_photo(args); 
		$('#file_photo').val('');//clear file photo upload
	});
	
	$("#photo_form").on('submit',function(e){
		e.preventDefault(); 
	});
	/****product photo******/
	$("#product_form").on('submit',function(e){
		e.preventDefault(); 
	});

	
	$('#btn_add_color').on('click',function(e){
		var color_id = $('#color_list').val();
		var id = $('#id').val();
		product.add_color(id,color_id);
	});
	
});

</script>